<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>DirectOutput: Global Configuration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="directoutputstyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DirectOutput_Small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirectOutput
   </div>
   <div id="projectbrief">DirectOutput framework for virtual pinball cabinets.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('globalconfig.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Global Configuration </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="globalconfig_introduction"></a>
Introduction</h1>
<p>The global configuration of the <a class="el" href="namespace_direct_output.html" title="DirectOutput is the root namespace for the DirectOutput framework. ">DirectOutput</a> framework defines which files the system loads for the <a class="el" href="cabinetconfig.html">Cabinet</a> and <a class="el" href="tableconfig.html">Table</a> configuration. In addition the global conguration specifies which C#-script files containing extensions for the framework to load and compile. The global configuration information is valid for the whole framework no matter what cabinet or table config is loaded.</p>
<p>Depending on the interface used to communicate with the framework, different global configuration files are loaded.</p>
<p>For the B2S.Server Plugin the configuration file "GlobalConfiguration_b2SServer.xml" is loaded. The framework is searching for this file in the following locations:</p>
<ul>
<li>A directory named -config- withing the directory of the DirectOutput.dll.</li>
<li>A shortcut named -config- to a directory.</li>
<li>Table directory.</li>
<li>Directory of the DirectOutput.dll.</li>
</ul>
<h1><a class="anchor" id="globalconfig_settings"></a>
Global configuration file sections</h1>
<h2><a class="anchor" id="globalconfig_tablescriptsfilepattern"></a>
TableScriptFilePatterns</h2>
<p>GlobalScriptsFilePatterns defines the search patterns for global script files. The script files are loaded and compiled before the cabinet and table configs or any other scripts are loaded. This setting supports wildcards (* represents any number of characters, ? represents one character). In addition the following placeholders are supported:</p>
<ul>
<li>{DllDir} represents the directory of the DirectOutput.dll.</li>
<li>{GlobalConfigDir} represents the global config directory.</li>
</ul>
<p>A GlobalScriptsFilePatterns section could contain the following content:</p>
<div class="fragment"><div class="line">&lt;GlobalScriptFilePatterns&gt;</div>
<div class="line">  &lt;FilePattern&gt;{GlobalConfigDir}\cabinet*.cs&lt;/FilePattern&gt;</div>
<div class="line">&lt;/GlobalScriptFilePatterns&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="globalconfig_cabinetconfigfilepattern"></a>
CabinetConfigFilePatterns</h2>
<p>CabinetConfigFilePatterns defines the patterns for the <a class="el" href="cabinetconfig.html">cabinet configuration file</a>. If the patterns are matching more than one file, only the first matching file is loaded for the cabinet configuration. This setting supports wildcards (* represents any number of characters, ? represents one character). In addition the following placeholders are supported:</p>
<ul>
<li>{DllDir} represents the directory of the DirectOutput.dll.</li>
<li>{GlobalConfigDir} represents the default global config directory.</li>
</ul>
<p>A typical CabinetConfigFilePattern sections might looks as follows:</p>
<div class="fragment"><div class="line">&lt;CabinetConfigFilePatterns&gt;</div>
<div class="line">  &lt;FilePattern&gt;{GlobalConfigDir}\cabinet.xml&lt;/FilePattern&gt;</div>
<div class="line">&lt;/CabinetConfigFilePatterns&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="globalconfig_cabinetscriptsfilepattern"></a>
CabinetScriptsFilePattern</h2>
<p>CabinetScriptsFilePattern defines the search patterns for cabinet script files. The script files are loaded an compiled before the cabinet config is loaded. This settings supports the same wildcards and placeholders as the <em>CabinetConfigFilePatterns</em> setting.</p>
<p>A CabinetScriptsFilePattern section could contain the following content:</p>
<div class="fragment"><div class="line">&lt;CabinetScriptFilePatterns&gt;</div>
<div class="line">  &lt;FilePattern&gt;{GlobalConfigDir}\cabinet*.cs&lt;/FilePattern&gt;</div>
<div class="line">&lt;/CabinetScriptFilePatterns&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="globalconfig_tableconfigfilepatterns"></a>
TableConfigFilePatterns</h2>
<p>TableConfigFilePatterns define the search patterns which are used to lookup the table configuration file. If more than one file matches the search patterns, only the first matching file is loaded for the table configuration. This setting supports wildcards (* represents any number of characters, ? represents one character). In addition the following placeholders are supported:</p>
<ul>
<li>{TableDir} represents the full path to the directory of the table.</li>
<li>{TableDirName} represents the name of the table directory (last part of {TableDir}).</li>
<li>{TableName} represents the name of the table without extensions.</li>
<li>{DllDir} represents the directory of the DirectOutput.dll.</li>
<li>{GlobalConfigDir} represents the default global config directory.</li>
</ul>
<p>A typical TableConfigFilePattern section looks as follows:</p>
<div class="fragment"><div class="line">&lt;TableScriptFilePatterns&gt;</div>
<div class="line">  &lt;FilePattern&gt;{GlobalConfigDir}\\{TableName}.xml&lt;/FilePattern&gt;</div>
<div class="line">&lt;/TableScripsFilePatterns&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="globalconfig_tablescriptsfilepattern"></a>
TableScriptFilePatterns</h2>
<p>TableScriptsFilePatterns define the search patterns for table specific script files. The script files are loaded and compiled before the table config is loaded. This settings supports the same wildcards and placeholders as the <em>TableConfigFilePatterns</em> setting.</p>
<p>A typical TableScriptsFilePattern section might looks as follows:</p>
<div class="fragment"><div class="line">&lt;TableScriptFilePatterns&gt;</div>
<div class="line">  &lt;FilePattern&gt;{GlobalConfigDir}\\{TableName}*.cs&lt;/FilePattern&gt;</div>
<div class="line">&lt;/TableScriptFilePatterns&gt;</div>
</div><!-- fragment --><h3><a class="anchor" id="globalconfig_ledcontrol"></a>
LedControl options</h3>
<h3><a class="anchor" id="globalconfig_ledcontrolinifiles"></a>
LedControlIniFiles</h3>
<p>LedControlIniFiles holds the paths to LedControl.ini files as well as the LedWiz number assiociated with the ledcontrol.ini files. LedControl.ini files can be used as a fallback solution if no cabinet and/or cabinet config is loaded. The LedControlIniFiles section can contain up to 16 LedControlIniFile sections.</p>
<p>A LedControlIniFile section defines a single LedControl.ini file and the associated LedWiz number.</p>
<ul>
<li><em>FileName</em> contains the full filename of the LedControl.ini file.</li>
<li><em>LedWizNumber</em> contains the LedWiz number associated with the file defined in <em>FileName</em>.</li>
</ul>
<p>Please read the chapter <a class="el" href="ledcontrolfiles.html">LedControl files</a> for more information on this topic.</p>
<p>A typical LedControlIniFiles section looks as follows:</p>
<div class="fragment"><div class="line">&lt;LedControlIniFiles&gt;</div>
<div class="line">  &lt;LedControlIniFile&gt;</div>
<div class="line">    &lt;Filename&gt;c:\Ledcontrol\LedControl.ini&lt;/Filename&gt;</div>
<div class="line">    &lt;LedWizNumber&gt;1&lt;/LedWizNumber&gt;</div>
<div class="line">  &lt;/LedControlIniFile&gt;</div>
<div class="line">&lt;/LedControlIniFiles&gt;</div>
</div><!-- fragment --><h3><a class="anchor" id="globalconfig_ledcontrolsettings"></a>
LedControl settings</h3>
<p>In addition to the LedControl.ini files you can specify a few more options for LedControl use:</p>
<ul>
<li><em>LedControlMinimumEffectDurationMs</em> specifies the minimum duration for LedControl effects which control only one output (e.g. contactors, start button light).</li>
<li><em>LedControlMinimumRGBEffectDurationMs</em> specifies the minimum duration for LedControl effects control RGBleds.</li>
</ul>
<p>Both settings have no effect if the effect setting in the LedControl file specifies a duration.</p>
<p>Under normal circumstances these settings look like this:</p>
<div class="fragment"><div class="line">&lt;LedControlMinimumEffectDurationMs&gt;60&lt;/LedControlMinimumEffectDurationMs&gt;</div>
<div class="line">&lt;LedControlMinimumRGBEffectDurationMs&gt;120&lt;/LedControlMinimumRGBEffectDurationMs&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="globalconfig_logging"></a>
Logging</h2>
<p>EnableLogging does whats its name says. It enables log output to the file specified in the LogFilePattern.</p>
<p>The LogFilePattern can defines a filename for the log file and can include the following placeholders:</p>
<ul>
<li>{DllDir} represents the directory of the DirectOutput.dll.</li>
<li>{GlobalConfigDir} represents the default global config directory.</li>
<li>{TableDir} represents the full path to the directory of the table.</li>
<li>{TableDirName} represents the name of the table directory (last part of {TableDir}).</li>
<li>{TableName} represents the name of the table without extensions.</li>
<li>{RomName} is the name of the game rom.</li>
<li>{DateTime} is a timestamp containing the current date and type in the following form: yyyymmdd_hhmmss.</li>
<li>{Date} is the current date in the following form: yyyymmdd.</li>
<li>{Time} is the current time in the following form: hhmmss</li>
</ul>
<p>Typical entries for the loggin configuration might look as follows:</p>
<div class="fragment"><div class="line">&lt;EnableLogging&gt;<span class="keyword">true</span>&lt;/EnableLogging&gt;</div>
<div class="line">&lt;LogFilePattern&gt;.TableName}_{DateTime}.log&lt;/LogFilePattern&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="globalconfig_example"></a>
Example</h1>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;utf-8&quot;</span>?&gt;</div>
<div class="line"></div>
<div class="line">&lt;GlobalConfig&gt;</div>
<div class="line">  &lt;LedControlMinimumEffectDurationMs&gt;60&lt;/LedControlMinimumEffectDurationMs&gt;</div>
<div class="line">  &lt;LedControlMinimumRGBEffectDurationMs&gt;120&lt;/LedControlMinimumRGBEffectDurationMs&gt;</div>
<div class="line">  &lt;LedControlIniFiles&gt;</div>
<div class="line">    &lt;LedControlIniFile&gt;</div>
<div class="line">      &lt;Filename&gt;c:\Ledcontrol\LedControl.ini&lt;/Filename&gt;</div>
<div class="line">      &lt;LedWizNumber&gt;1&lt;/LedWizNumber&gt;</div>
<div class="line">    &lt;LedControlIniFile&gt;</div>
<div class="line">      &lt;Filename&gt;c:\Ledcontrol\LedControl2.ini&lt;/Filename&gt;</div>
<div class="line">      &lt;LedWizNumber&gt;2&lt;/LedWizNumber&gt;</div>
<div class="line">    &lt;/LedControlIniFile&gt;</div>
<div class="line">  &lt;/LedControlIniFiles&gt;</div>
<div class="line"></div>
<div class="line">  &lt;CabinetConfigFilePatterns&gt;</div>
<div class="line">    &lt;FilePattern&gt;{GlobalConfigDir}\cabinet.xml&lt;/FilePattern&gt;</div>
<div class="line">  &lt;/CabinetConfigFilePatterns&gt;</div>
<div class="line"></div>
<div class="line">  &lt;CabinetScriptFilePatterns&gt;</div>
<div class="line">    &lt;FilePattern&gt;{GlobalConfigDir}\cabinet*.cs&lt;/FilePattern&gt;</div>
<div class="line">  &lt;/CabinetScriptFilePatterns&gt;</div>
<div class="line"></div>
<div class="line">  &lt;TableScriptFilePatterns&gt;</div>
<div class="line">    &lt;FilePattern&gt;{GlobalConfigDir}\\{TableName}*.cs&lt;/FilePattern&gt;</div>
<div class="line">  &lt;/TableScriptFilePatterns&gt;</div>
<div class="line"></div>
<div class="line">  &lt;TableConfigFilePatterns&gt;</div>
<div class="line">    &lt;FilePattern&gt;{GlobalConfigDir}\\{TableName}.xml&lt;/FilePattern&gt;</div>
<div class="line">  &lt;/TableConfigFilePatterns&gt;</div>
<div class="line"></div>
<div class="line">  &lt;GlobalScriptFilePatterns&gt;</div>
<div class="line">    &lt;FilePattern&gt;{GlobalConfigDir}\cabinet*.cs&lt;/FilePattern&gt;</div>
<div class="line">  &lt;/GlobalScriptFilePatterns&gt;</div>
<div class="line"></div>
<div class="line">  &lt;EnableLogging&gt;<span class="keyword">false</span>&lt;/EnableLogging&gt;</div>
<div class="line">  &lt;LogFilePattern&gt;.\DirectOutput.log&lt;/LogFilePattern&gt;</div>
<div class="line"></div>
<div class="line">&lt;/GlobalConfig&gt;</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Aug 30 2013 13:39:49 for DirectOutput by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39987816-1']);
    _gaq.push(['_trackPageview']);
    (function () {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
</body>
</html>
