<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>DirectOutput: C:/Users/Tom/Documents/GitHub/DirectOutput/Documentation/60_FX.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="directoutputstyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DirectOutput_Small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirectOutput
   </div>
   <div id="projectbrief">DirectOutput framework for virtual pinball cabinets.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('60___f_x_8md.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Events</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">C:/Users/Tom/Documents/GitHub/DirectOutput/Documentation/60_FX.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="60___f_x_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ï»¿Effects/FX  {#fx}</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;==========</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;\section fx_introduction Introduction </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;Effects are the parts which are connecting the Table and its TableElelement objects to the Toy objects in the Cabinet <span class="keywordtype">object</span>. </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;While toys are thought to be relatively stupid and just capable of doing a few simple things (e.g. <span class="keyword">set</span> a RGB LED to a specific color), effects should <span class="keywordflow">do</span> the more complex operations (e.g. dimming the color of a LED from one color to another).</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;Effects are triggered by TableElement objects (e.g. a <span class="keywordflow">switch</span> or a lamp) changing its state or value and also by the Table itself when the Table is started. </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;DOF contains two types of effects:</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;* __Toy effects__ are effects controlling a toy. Typically they hold a reference to one or severeal toys which are controlled by the effect.</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;* __Effect effects__ are effects which are controlling other effects. Typically effect effects are holding references to one or several target effects.</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;\image html EffectTypes.png <span class="stringliteral">&quot;Effect types&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;\section fx_stacking Stacking/chaining of effect effects</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;Effects can be chained resp. stacked to achive more complex behaviour than the standard behaviour of effects.</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;Effect effects (effects which troger other effects) are used <span class="keywordflow">for</span> chaining and any number of effects can be chained. The last effect in a chain of effects is always a toy effect which controls one or several instances of a toy objects.</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;__Example 1__</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;\image html FX_Stacked1.png <span class="stringliteral">&quot;Stacked effects example 1&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;In <span class="keyword">this</span> example, the first effect is a delay effect (2), which will forward the received trigger signal (1) from the table element after a specified delay.</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;The output of the delay effect (2) triggers a first blink effect (3) which a <span class="keywordtype">long</span> blink period. The output of the first blink effect (3) triggers a second blink effect (4) with a much <span class="keywordtype">short</span> blink period. This will create <span class="keywordtype">short</span> blinks within the <span class="keywordtype">long</span> blinks of the first blink effect (3).  </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;Finnaly the output of the second blink effect (4) triggers the finaly toy effect, in this case a RGBAFadeOnOff effect (5) which will fade in and out the led depending on the received input signal (4).</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;__Example 2__</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;\image html FX_Stacked2.png &quot;Stacked effects example 2&quot;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;In the second example, a <span class="keywordtype">short</span> trigger pluse from a table element (1) triggers a duration effect (2). The output of the duration effect (2) will trigger a blink effect (3). This will create blinking for the specified duration whenever the first effect in the chain receives a trigger signal.</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;The finaly RGBAFadeOnOff effect (4) will fade in and out the color of the target toy, in this case a RGB-Led, depending on the output signal of the previous toy (3).</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;So finnaly, we get a fading blinking for the duration specified in the second effect, whenever a trigger pluse is received by the effect chain.</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;\section fx_builtinfx Built in effects</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;Please read the page on \ref fx_builtin &quot;Built in Effects&quot; for details and config samples on the various effect classes available in the framework. </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;\section fx_customeffects Custom effects </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;The DirectOutput framework can easily be extended to support your own custom effects.</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;All effects must implement the _IEffect__ interface so they are recognized by DOF as effects and must have a globaly unique name (not only within the namespace).</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;There are 2 ways how new effects can be included in DOF:</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;1. Effects can be integrated into the source code of the framework. This is recommended for effects which can be of general use.</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;2. Effects can be added through scripting. Script files have to reside in the correct location (see detils on global config), so DOF can detect, compile and integrate them at runtime. This is recommended for effects which are table specific or only for your private use.</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;Implementation wise, both options are identical, so scripted effects can easily be integrated into DOF later on if required.</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;\section fx_implementationguideline  Implementation guidelines for effects</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;* Effects have to be coded in C<span class="preprocessor"># (not that difficult to learn).</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor"></span>* All effects must implement the _IEffect_ interface. This <span class="keyword">interface </span>specifies some methods, properties and events which have to be implemented for every effect.</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;* Try to inherit the <span class="keyword">abstract</span> _EffectBase_ <span class="keyword">class</span>. _EffectBase_ implements the necessary Name property, the change events <span class="keywordflow">for</span> the name as well as the Finish method (<span class="keyword">virtual</span>). </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;* Define a globaly unique name (not only unique within its <span class="keyword">namespace</span>) <span class="keywordflow">for</span> your effect <span class="keyword">class</span>. This name will also be used when a config file is loaded or saved. If the name is not unique loading or saving will probably fail.</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;* Ensure that your effect <span class="keyword">class </span>is XMLSerializable. As a rule of thumb, your class must implement a paramaterless constructor and all settings for the effect have to be available through public properties.</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;* Put your effects into a meaningfull subnamespace of the FX <span class="keyword">namespace</span>. If no suitable subnamespace exists, create a <span class="keyword">new</span> subnamespace.</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;* Be fault tolerant and handle all errors <span class="keywordflow">if</span> necessary. In particular keep care that no exceptions are thrown, <span class="keywordflow">if</span> the toy which is specified by its name in your effect is of a wrong type. If a effect <span class="keywordflow">throws</span> a exception, it will <span class="keyword">get</span> deactivated by DOF <span class="keywordflow">for</span> the session.</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;* If your effect needs timed events, <span class="keyword">register</span> <span class="keywordflow">for</span> the alarm <span class="keyword">function</span> of the _Alarms_ <span class="keywordtype">object</span> in the _Pinball_ <span class="keywordtype">object</span> <span class="keywordflow">if</span> possible. This will ensure that the necessary update functions are called and at the same time make sure that no unnessecary update calls to output controllers are triggered. </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;* Make your code fast! In particular, resolve a references to toys and effects in the Init method.</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;* Implement your own finish method, <span class="keywordflow">if</span> your effect uses the _Alarm_ methods of the Pinball object, to unregister all alarms that might be schedule <span class="keywordflow">for</span> the effect. Finish is also a good place to <span class="keyword">get</span> rid of all allocated resources and to unregister the effect from events it might has registered to earlier. </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;* Comment your code! At least the <span class="keyword">public</span> methods and properties of your effect should be properly documented with XML comments. The documentation of DOF is automatically generated from the comments in the source files.</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;* to be continued.....</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="60___f_x_8md.html">60_FX.md</a></li>
    <li class="footer">Generated on Mon Oct 14 2013 22:46:58 for DirectOutput by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39987816-1']);
    _gaq.push(['_trackPageview']);
    (function () {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
</body>
</html>
