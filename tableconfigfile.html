<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>DirectOutput: Table configuration file</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="directoutputstyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DirectOutput_Small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DirectOutput
   </div>
   <div id="projectbrief">DirectOutput framework for virtual pinball cabinets.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tableconfigfile.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Table configuration file </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="tableconfigfile_introduction"></a>
Introduction</h1>
<p>The table configuration defines the table elements (e.g. solenoids or lamps), the configuration of the effects and the assigment of the effects to the table elements. The assigned effects are triggered if the value of a table element changes (typicaly when new data from Pinmame is received).</p>
<p>In addition there is also a collection of static effects which are triggered when the framework is starting up. Use the static effects to control toys which dont have to change their state during game play (e.g. set illuminated flipper button to a specific color).</p>
<p>The framework does also allow to mix the configuration in a table config file with configurations loaded from ledcontrol files. This will allow you to use configurations from the <a href="http://vpuniverse.com/ledwiz/login.php">LedWiz Config Tool</a> for commonly used gadgets and to supplement this with your own config.</p>
<h1><a class="anchor" id="tableconfigfile_configfilestructure"></a>
Table config file</h1>
<p>Table configurations are stored as XML-files. The basic structure of a table configuration file contains the following sections:</p>
<ul>
<li><b>Effects</b> configures all effects for a table. These effects can be assigned to table elements or to the static effects.</li>
<li><b>TableElements</b> defines the table elements with their type (e.g. solenoid or lamp) and number and also the assignment of effects to the table elements.</li>
<li><b>AssignedStaticEffects</b> defines the static effects for the table.</li>
<li><b>TableName</b> contains the name of the pinball table.</li>
</ul>
<p>The basic structure of a table configuration looks as follows:</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span>?&gt;</div>
<div class="line">&lt;Table xmlns:xsi=<span class="stringliteral">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> xmlns:xsd=<span class="stringliteral">&quot;http://www.w3.org/2001/XMLSchema&quot;</span>&gt;</div>
<div class="line">  &lt;TableName&gt;Name of the table&lt;/TableName&gt;</div>
<div class="line">  &lt;TableElements&gt;</div>
<div class="line">      ... Table element definitions ...</div>
<div class="line">  &lt;/TableElements&gt;</div>
<div class="line">  &lt;Effects&gt;</div>
<div class="line">       ... Effects configuration ...</div>
<div class="line">  &lt;/Effects&gt;</div>
<div class="line">  &lt;AssignedStaticEffects&gt;</div>
<div class="line">       ... Static effects assignments ...</div>
<div class="line">  &lt;/AssignedStaticEffects&gt;</div>
<div class="line"></div>
<div class="line">  &lt;AddLedControlConfig&gt;<span class="keyword">true</span>/<span class="keyword">false</span>&lt;/AddLedControlConfig&gt;</div>
<div class="line"></div>
<div class="line">&lt;/Table&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="tableconfigfile_configfilestructuretableelements"></a>
Table elements section</h2>
<p>The TableElements section contains the definition of the table elements (solenoids, lamps and so on) of the pinball table. Table elements are configured using TableElement sections. A TableElements secation can contain any number of TableElement sections.</p>
<p>The definition of a table element consists of the type and the number of the table element. A name for the element can be specified in addition. The name has no technical relevance, but can be useful for informational purposes and configuring a table will for sure be easier if the table elements are named.</p>
<p>For every table element one or several effects can be assigned. A effect assignment consists of the name of the effect and a number which defines the order in which the effects are triggered. If the order of the effects doesnt matter, you can also use the same order number for every assigned effect.</p>
<p>On initialization of the framework the names of the assigned effects are resolved into references to the actual effect objects. If a name cant be resolved, the effect assignmenet will be disabled.</p>
<p>A typical table element definition looks as follows:</p>
<div class="fragment"><div class="line">&lt;TableElement&gt;</div>
<div class="line">  &lt;TableElementType&gt;<a class="code" href="namespace_direct_output.html#a175aa273230ef2862f0ed4e5551ceb38acd0cc31af3b532343f47d341e0489d5a">Solenoid</a>&lt;/TableElementType&gt;</div>
<div class="line">  &lt;Number&gt;4&lt;/Number&gt;</div>
<div class="line">  &lt;Name&gt;Right slingshot&lt;/Name&gt;</div>
<div class="line">  &lt;AssignedEffects&gt;</div>
<div class="line">    &lt;AssignedEffectOrder&gt;</div>
<div class="line">      &lt;EffectName&gt;Fire Right Bottom Contactor&lt;/EffectName&gt;</div>
<div class="line">      &lt;Order&gt;1&lt;/Order&gt;</div>
<div class="line">    &lt;/AssignedEffectOrder&gt;</div>
<div class="line">    &lt;AssignedEffectOrder&gt;</div>
<div class="line">      &lt;EffectName&gt;Flash Right Backboard Led&lt;/EffectName&gt;</div>
<div class="line">      &lt;Order&gt;2&lt;/Order&gt;</div>
<div class="line">    &lt;/AssignedEffectOrder&gt;</div>
<div class="line">  &lt;/AssignedEffects&gt;</div>
<div class="line">&lt;/TableElement&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="tableconfigfile_configfilestructurestaticeffects"></a>
Assigned static effects section</h2>
<p>The AssignedStaticEffects contains the assignment of the static effects which are triggered when the system starts up. The static effects are defined by using AssignedEffectOrder sections.</p>
<p>The AssignedEffectOrder sections consist of the name of the assigned effect and a number specifying the order in which the static effects are triggered.</p>
<p>On initialization of the framework the names of the assigned effects are resolved into references to the actual effect objects. If a name cant be resolved, the effect assignmenet will be disabled.</p>
<p>A typical AssignedEffectOrder might looks like this:</p>
<div class="fragment"><div class="line">&lt;AssignedEffectOrder&gt;</div>
<div class="line">  &lt;EffectName&gt;Set Flipperbutton to Red&lt;/EffectName&gt;</div>
<div class="line">  &lt;Order&gt;1&lt;/Order&gt;</div>
<div class="line">&lt;/AssignedEffectOrder&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="tableconfigfile_configfilestructureeffects"></a>
Effects section</h2>
<p>The effects section contains the configurations for all table effects. Effects configured in this section can be referenced by their name in the static effects section and in the assigned effect sections of the various table elements.</p>
<p>The Directoutput framework contains some built in effects and more effects can be added through scripting (see scripting page for details).</p>
<p>At the time of writting the following built in effects exist in the framewwork:</p>
<h3><a class="anchor" id="tableconfigfile_configfilestructureeffectsbasicanalogeffect"></a>
BasicAnalogEffect</h3>
<p>The BasicAnalogEffect can be used to control toys which are using analog outputs (e.g. lamps). These toys have to implement the IAnalogToy interface.</p>
<p>This effect will set the value of the assigned toy to the values defined in ValueOn and ValueOff depending on the value of the table element triggering the effect. Using the effect as a static effect is also possible. The effect will set the toys value to ValueOn if it as called as a static effect.</p>
<p>A typical config for this effect type might looks as follows:</p>
<p>&lt;BasicAnalogEffect&gt; &lt;Name&gt;Effect name&lt;/Name&gt; &lt;AnalogToyName&gt;Name of a analog toy&lt;/AnalogToyName&gt; &lt;ValueOn&gt;255&lt;/ValueOn&gt; &lt;ValueOff&gt;0&lt;/ValueOff&gt; &lt;/BasicAnalogEffect&gt;</p>
<ul>
<li><b>Name</b> is the name of the effect. What else?</li>
<li><b>AnalogToyName</b> is the name of toy a implementing the IAnalogToy interface. The toy has to be configured in the cabinet.</li>
<li><b>ValueOn</b> is the value which will be set for the toy, if the effect is triggered by a table element having a value which is not equal 0. The value will also be used the set the value of the referenced toy, if the effect is assigned as a static effect.</li>
<li><b>ValueOff</b> is the value which will be set for the toy, if the effect is triggered by a table element having a value of 0.</li>
</ul>
<h3><a class="anchor" id="tableconfigfile_configfilestructureeffectsbasicdigitaleffect"></a>
BasicDigitalEffect</h3>
<p>The BasicDigitalEffect is used to control toy which are using digital outputs (e.g. contactors). The toys have to implement the IDigitalToy interface.</p>
<p>This effect sets the state of a toy implementing the IDigitalToy interface depending on the value of the table element triggering the effect. A table element value of 0, will set the toy state to false/off, any other value will set the toys state to true/on. If assigned as a static effect, the state of the toy will always be set to true/on.</p>
<p>Here is a typical BasicDigitalEffect configuration:</p>
<p>&lt;BasicDigitalEffect&gt; &lt;Name&gt;Effect name&lt;/Name&gt; &lt;DigitalToyName&gt;Name of a toy&lt;/DigitalToyName&gt; &lt;/BasicDigitalEffect&gt;</p>
<ul>
<li><b>Name</b> is as usual the name of the effect.</li>
<li><b>DigitalToyName</b> is the name of the assigned toy. The assigned toy has be configured in the cabinet and must to implement the IDigitalToy interface.</li>
</ul>
<h3><a class="anchor" id="tableconfigfile_configfilestructureeffectsbasicrgbeffect"></a>
BasicRGBEffect</h3>
<p>The BasicRGBEffect is used to control RGBLeds or any other toy implementing the IRGBToy interface. Depending on the vaölue of the table element triggering the effect, the IRGBToy will be set to the configured color or to off. A table element value of 0 will turn of the IRGBToy, a value not equal 0 will set the toy to the specified color.</p>
<p>If the effect is assigned as a static effect it will set the assigned toy to to specified color.</p>
<p>&lt;BasicRGBEffect&gt; &lt;Name&gt;Effect name&lt;/Name&gt; &lt;RGBToyName&gt;RGBLedName value&lt;/RGBToyName&gt; &lt;Color&gt;Color value (e.g. #00ff00 for blue)&lt;/Color&gt; &lt;/BasicRGBEffect&gt;</p>
<ul>
<li><b>Name</b> of the effect.</li>
<li><b>RGBToyName</b> is the name of the assigned RGB toy. This toy must implement the IRGBToy interface.</li>
<li><b>Color</b> defines color which is set for the toy, if table element triggering the effect has a value which not equal 0. The color can be specified as a hexadecimal color definition (e.g. #ff0000 for red), comma separated color (e.g. 0,255,0 for green) or color name as defined in the cabinet colors section.</li>
</ul>
<h3><a class="anchor" id="tableconfigfile_configfilestructureeffectslisteffect"></a>
ListEffect</h3>
<p>The ListEffect is a effect which triggers a list of other effects assigned to the list effect. The data of the table element which has triggered the effect is passed on to the effects assigned to the list effect. Used as a static effect the ListEffect will trigger all assigned effect as well.</p>
<p>&lt;ListEffect&gt; &lt;Name&gt;Effect name&lt;/Name&gt; &lt;AssignedEffects&gt; &lt;AssignedEffectOrder&gt; &lt;EffectName&gt;Name of the first effect&lt;/EffectName&gt; &lt;Order&gt;1&lt;/Order&gt; &lt;/AssignedEffectOrder&gt; &lt;AssignedEffectOrder&gt; &lt;EffectName&gt;Name of a second effect&lt;/EffectName&gt; &lt;Order&gt;2&lt;/Order&gt; &lt;/AssignedEffectOrder&gt; &lt;/AssignedEffects&gt; &lt;/ListEffect&gt;</p>
<ul>
<li><b>Name</b> is the name of the effect. Hard to guess?</li>
<li><b>AssignedEffects</b> section contains any number of ordered effect assignments.</li>
<li><b>EffectName</b> contains the name of the assigned effect.</li>
<li><b>Order</b> is a number specifying the order in which the assigned effects are executed.</li>
</ul>
<h2><a class="anchor" id="tableconfigfile_configfilestructureaddledcontrolconfig"></a>
AddLedControlConfig section</h2>
<p>This section does only contrin true or false.</p>
<p>True will tell the system to supplement the table config which has been loaded from the config xml with configurations from ledcontrol file(s) if available.</p>
<p>False will not add configs from ledcontrol file(s). </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Jun 25 2013 15:50:56 for DirectOutput by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39987816-1']);
    _gaq.push(['_trackPageview']);
    (function () {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
</body>
</html>
